# =====================================================
# ENVIRONMENT
# =====================================================
# Set to 'production' to disable dev tools and monitoring
NODE_ENV=development

# =====================================================
# SUPABASE DATABASE
# =====================================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here

# =====================================================
# GEMINI API KEYS (Round-Robin with Custom Limits)
# =====================================================
# PRIMARY KEY: Used for chatbot and lightweight text operations
# Format: key OR key|rpm:X|tpm:Y|rpd:Z
# 
# Examples:
#   Basic: AIzaSyABC123...
#   With limits: AIzaSyABC123|rpm:15|tpm:1000000|rpd:1500
#
# If limits not specified, defaults to Free Tier (15 RPM, 1M TPM, 1500 RPD)

GEMINI_PRIMARY_KEY=AIzaSyABRNVmFYP0fO6ezCh1glUD5HwzIc4oCVU

# BACKUP KEYS: Used for heavy operations (vision analysis, large prompts)
# Comma-separated list with optional custom limits per key
# System will rotate through these on rate limits
#
# Examples:
#   GEMINI_BACKUP_KEYS=key1,key2,key3
#   GEMINI_BACKUP_KEYS=key1|rpm:1000|tpm:4000000,key2|rpm:15,key3
#
# Mix free and paid tier keys as needed

GEMINI_BACKUP_KEYS=AIzaSyC_backup_key_1|rpm:15|rpd:1500,AIzaSyC_backup_key_2|rpm:1000|tpm:4000000,AIzaSyC_backup_key_3

# =====================================================
# GOOGLE SEARCH API (For Web Intelligence)
# =====================================================
# 1. Enable "Custom Search API" in Google Cloud Console
# 2. Create a Search Engine (CSE) at https://programmablesearchengine.google.com/
# 3. Get API Key and Search Engine ID (CX)
GOOGLE_SEARCH_API_KEY=your-custom-search-key
GOOGLE_SEARCH_CX=your-search-engine-id

# =====================================================
# COMMUNICATIONS (Email & Calendar)
# =====================================================
# Resend API Key (for email notifications)
RESEND_API_KEY=re_123456789...

# Google Service Account (for Calendar scheduling)
# Get from Google Cloud Console -> IAM & Admin -> Service Accounts
# Create JSON key and paste values here
GOOGLE_SERVICE_ACCOUNT_EMAIL=terratruce-bot@project-id.iam.gserviceaccount.com
GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEv... (entire key with \n) ...\n-----END PRIVATE KEY-----"

# =====================================================
# GOOGLE MAPS API
# =====================================================
# Required for satellite imagery fetching
# Enable "Maps Static API" in Google Cloud Console
GOOGLE_MAPS_API_KEY=your-maps-api-key-here

# =====================================================
# REDIS CACHE
# =====================================================
# Optional - defaults to localhost if not provided
# For production, use managed Redis (Upstash, Redis Cloud, etc.)
REDIS_URL=redis://localhost:6379

# =====================================================
# API LIMITS REFERENCE
# =====================================================
# Gemini 2.0 Flash Free Tier:
#   rpm: 15 (Requests Per Minute)
#   tpm: 1000000 (Tokens Per Minute)  
#   rpd: 1500 (Requests Per Day)
#
# Gemini 2.0 Flash Paid Tier:
#   rpm: 1000
#   tpm: 4000000
#   rpd: unlimited (omit rpd limit)
#
# Google Maps Static API:
#   - 25,000 requests/day (free)
#   - $2 per 1,000 requests after
#
# MCP Rate Limits (Per IP):
#   - get_parcel_details: 100/min
#   - assess_flood_risk: 50/min
#   - analyze_satellite_vision: 10/min
#
# =====================================================
# DEV MODE FEATURES (NODE_ENV=development)
# =====================================================
# When NODE_ENV is NOT 'production':
#   ✅ Token usage tracking enabled
#   ✅ Console logs show detailed stats
#   ✅ get_api_usage_stats tool available
#   ✅ Per-key limit monitoring
#
# In production mode:
#   ❌ Usage stats hidden
#   ❌ Dev tools disabled
#   ✅ Only error logs shown
# =====================================================
